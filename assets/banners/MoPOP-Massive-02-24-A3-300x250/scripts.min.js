// eslint-disable-next-line
function Ad(anim) {
  this.init = function () {
    this.banner = document.getElementById('banner');

    // gets clickTAG variable, if it is not defined (e.g. banner is being tested locally) it will fallback to example.com
    function getClickTag() {
      return window.clickTag || 'http://www.google.com';
    }

    this.banner.onclick = () => {
      window.open(getClickTag(), '_blank');
    };

    // GSAP defaults
    gsap.defaults({
      ease: 'none',
      duration: 0.5,
    });

    // call the passed animation function
    anim();
  };
}

const animate = function () {
  // set the animation targets
  const banner = document.getElementById('banner');

  // create our TimelineLite object
  const tl = gsap.timeline({ delay: 1 });

  // define the animation
  tl.to(banner, { opacity: 1 })
    .to('#ticker', 15, { x: -384 }, 0) //465
    .from('#s1', 15, { x: -300, ease: 'power1.out' }, 0)
    .from('#s2', 15, { x: 300, ease: 'power1.out' }, 0)
    .from('#logo1', { opacity: 0, y: 10, ease: 'power1.inOut'  }, 0)
    .from('#logo2', { opacity: 0, y: 10, ease: 'power1.inOut' }, '<1')
    //.from('#logo2a', { opacity: 0, y: 10, ease: 'power1.inOut' }, '<1')
    //.from('#logo2b', { opacity: 0, y: 10, ease: 'power1.inOut' }, '<.3')
    //.from('#logo2c', { opacity: 0, y: 10, ease: 'power1.inOut' }, '<.3')
    //.from('#logo2d', { opacity: 0, y: 10, ease: 'power1.inOut' }, '<.3')
    //.from('#logo2e', { opacity: 0, y: 10, ease: 'power1.inOut' }, '<.3')
    .from('#violator', 1, { x: 300, ease: 'power1.out' }, '<1')
    ;
};

// instantiate and initialize the ad
const ad = new Ad(animate);
ad.init();
