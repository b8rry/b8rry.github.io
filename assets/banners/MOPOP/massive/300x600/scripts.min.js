// eslint-disable-next-line
function Ad(anim) {
  this.init = function () {
    this.banner = document.getElementById('banner');

    // gets clickTAG variable, if it is not defined (e.g. banner is being tested locally) it will fallback to example.com
    function getClickTag() {
      return window.clickTag || 'http://www.google.com';
    }

    this.banner.onclick = () => {
      window.open(getClickTag(), '_blank');
    };

    // GSAP defaults
    gsap.defaults({
      ease: 'none',
      duration: 0.5,
    });

    // call the passed animation function
    anim();
  };
}

const animate = function () {
  // set the animation targets
  const banner = document.getElementById('banner');

  // create our TimelineLite object
  const tl = gsap.timeline({ delay: 1 });

  // define the animation
  tl.to(banner, { opacity: 1 })
    .to('#ticker', 15, { x: -384 }, 0) //465
    .to('#ticker2', 15, { x: -384 }, 0) //465
    .from('#squares', .5, { x: -58, ease: 'power1.inOut' }, 2)
    .to('#slider1', 1.5, { x: 172, ease: 'power1.inOut' }, 1)
    .to('#slider1', 1.5, { x: 0, ease: 'power1.inOut' }, 4)
    .from('#slider3', 1.5, { x: 164, ease: 'power1.inOut' }, 5)
    .to('#slider4', 1.5, { x: -48, ease: 'power1.inOut' }, 2)
    .to('#violator-logo', 1.5, { x: 215, ease: 'power1.inOut' }, 2)
    .to('#slider4', 1.5, { x: 0, ease: 'power1.inOut' }, 5)
    .to('#violator-logo', 1.5, { x: 0, ease: 'power1.inOut' }, 5)    
    ;
};

// instantiate and initialize the ad
const ad = new Ad(animate);
ad.init();
