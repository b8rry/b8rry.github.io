// eslint-disable-next-line
function Ad(anim) {
  this.init = function () {
    this.banner = document.getElementById('banner');

    // gets clickTAG variable, if it is not defined (e.g. banner is being tested locally) it will fallback to example.com
    function getClickTag() {
      return window.clickTag || 'http://www.google.com';
    }

    this.banner.onclick = () => {
      window.open(getClickTag(), '_blank');
    };

    // GSAP defaults
    gsap.defaults({
      ease: 'none',
      duration: 0.5,
    });

    // call the passed animation function
    anim();
  };
}

const animate = function () {
  // set the animation targets
  const banner = document.getElementById('banner');

  // create our TimelineLite object
  const tl = gsap.timeline({ delay: 1 });

  // define the animation
  tl.to(banner, { opacity: 1 })
    //.from('#ticker', 14, { x: -528 }, 0)
    .to('#squares', 15, { x: -167, ease: 'power1.out' }, 0) // 1585 from 0 and 613 at pac man
    .from('#logo1', { opacity: 0, y: 4, ease: 'power1.inOut'  }, 0)
    .from('#logo2', { opacity: 0, y: 4, ease: 'power1.inOut' }, '<1')

        // tix
    .to('#ctabase2', .15, { opacity: 0, }, 2)
    .to('#ctabase2', .15, { opacity: 1, }, 4)
    .to('#ctabase2', .15, { opacity: 0, }, 6)
    .to('#ctabase2', .15, { opacity: 1, }, 8)
    .to('#ctabase2', .15, { opacity: 0, }, 10)
    .to('#ctabase2', .15, { opacity: 1, }, 12)     
    .to('#ctabase2', .15, { opacity: 0, }, 14)   
    ;
};

// instantiate and initialize the ad
const ad = new Ad(animate);
ad.init();
